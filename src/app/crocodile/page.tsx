"use client";

import React, { useState } from "react";
import { Pencil, RefreshCw, Eye, EyeOff, Play } from "lucide-react";
import { motion, AnimatePresence } from "framer-motion";

const words = [
  "–ë–µ–∑ —Ç—Ä—É–¥–∞ –Ω–µ –ø–æ–π–º–∞—Ç—å —Ä—ã–±–∫—É –∏–∑ –ø—Ä—É–¥–∞",
  "–ö–æ—Ç –Ω–∞–ø–ª–∞–∫–∞–ª",
  "–¢–∏—à–µ –µ–¥–µ—à—å ‚Äî –¥–∞–ª—å—à–µ –±—É–¥–µ—à—å",
  "–ö–∞–∫ —Å –≥—É—Å—è –≤–æ–¥–∞",
  "–ì–æ–ª –∫–∞–∫ —Å–æ–∫–æ–ª",
  "–ö–æ–º–∞—Ä –Ω–æ—Å–∞ –Ω–µ –ø–æ–¥—Ç–æ—á–∏—Ç",
  "–í–∏–¥–∏—Ç –æ–∫–æ, –¥–∞ –∑—É–± –Ω–µ–π–º—ë—Ç",
  "–ö–∞–∫ –¥–≤–µ –∫–∞–ø–ª–∏ –≤–æ–¥—ã",
  "–ù–µ –≤ —Å–≤–æ–∏ —Å–∞–Ω–∏ –Ω–µ —Å–∞–¥–∏—Å—å",
  "–ë–∞–±–∞ —Å –≤–æ–∑—É ‚Äî –∫–æ–±—ã–ª–µ –ª–µ–≥—á–µ",
  "–î–æ—Å—Ç–∞—Ç—å –¥–æ –∑–≤–µ–∑–¥",
  "–û–¥–Ω–∞ –Ω–æ–≥–∞ –∑–¥–µ—Å—å, –¥—Ä—É–≥–∞—è —Ç–∞–º",
  "–ü–∞–ª—å—Ü–µ–º –≤ –Ω–µ–±–æ",
  "–ö–æ–≥–¥–∞ —Ä–∞–∫ –Ω–∞ –≥–æ—Ä–µ —Å–≤–∏—Å—Ç–Ω–µ—Ç",
  "–Ø–∑—ã–∫ –¥–æ –ö–∏–µ–≤–∞ –¥–æ–≤–µ–¥—ë—Ç",
  "–°–∏–¥–µ—Ç—å –Ω–∞ –¥–≤—É—Ö —Å—Ç—É–ª—å—è—Ö",
  "–®–∏–ª–æ –≤ –º–µ—à–∫–µ –Ω–µ —É—Ç–∞–∏—à—å",
  "–í–æ–ª–∫–∞ –Ω–æ–≥–∏ –∫–æ—Ä–º—è—Ç",
  "–ë–∏—Ç—å –±–∞–∫–ª—É—à–∏",
  "–ì–æ–ª–æ–≤—É –º–æ—Ä–æ—á–∏—Ç—å",
  "–ö–∞–∫ –∫–æ—Ä–æ–≤–∞ —è–∑—ã–∫–æ–º —Å–ª–∏–∑–∞–ª–∞",
  "–î–µ–ª–∞—Ç—å –∏–∑ –º—É—Ö–∏ —Å–ª–æ–Ω–∞",
  "–í–µ—Ä—Ç–µ—Ç—å—Å—è –∫–∞–∫ –±–µ–ª–∫–∞ –≤ –∫–æ–ª–µ—Å–µ",
  "–ö–æ—Ç –Ω–∞–ø–ª–∞–∫–∞–ª",
  "–ß–µ—à—É—è –æ—Ç–≤–∞–ª–∏–ª–∞—Å—å",
  "–•–æ–¥–∏—Ç—å –≤–æ–∫—Ä—É–≥ –¥–∞ –æ–∫–æ–ª–æ",
  "–†—É–∫–∏ –Ω–µ –∏–∑ —Ç–æ–≥–æ –º–µ—Å—Ç–∞",
  "–®–∞–ø–æ—á–Ω–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ",
  "–ü—Ä—ã–≥–∞—Ç—å –≤—ã—à–µ –≥–æ–ª–æ–≤—ã",
  "–ö–∞–∫ —Å–µ–ª–µ–¥–∫–∞ –≤ –±–æ—á–∫–µ",
  "–ü—è—Ç–æ–µ –∫–æ–ª–µ—Å–æ –≤ —Ç–µ–ª–µ–≥–µ",
  "–°—ä–µ—Å—Ç—å —Å–æ–±–∞–∫—É",
  "–ö—É—Ä–∏—Ü–∞ –Ω–µ –ø—Ç–∏—Ü–∞, –ë–æ–ª–≥–∞—Ä–∏—è –Ω–µ –∑–∞–≥—Ä–∞–Ω–∏—Ü–∞",
  "–ö–∞–∫ —Ä—ã–±–∞ –≤ –≤–æ–¥–µ",
  "–•–≤–∞—Ç–∞—Ç—å –∑–≤–µ–∑–¥—ã —Å –Ω–µ–±–∞",
  "–ö–∞–∫ –æ—Ç –∫–æ–∑–ª–∞ –º–æ–ª–æ–∫–∞",
  "–ü–ª–∞–∫–∞—Ç—å –∫—Ä–æ–∫–æ–¥–∏–ª—å–∏–º–∏ —Å–ª–µ–∑–∞–º–∏",
  "–ö–∞—Ä–∞—É–ª —É—Å—Ç–∞–ª",
  "–°–ª–æ–Ω –≤ –ø–æ—Å—É–¥–Ω–æ–π –ª–∞–≤–∫–µ",
  "–Ø–±–ª–æ–∫–æ —Ä–∞–∑–¥–æ—Ä–∞",
  "–¢–∞–Ω—Ü–µ–≤–∞—Ç—å –Ω–∞ –≥—Ä–∞–±–ª—è—Ö",
  "–ß–∞–π–Ω–∏–∫ –∑–∞–∫–∏–ø–µ–ª",
  "–ì—Ä–µ—Å—Ç–∏ –±–∞–±–ª–æ –ª–æ–ø–∞—Ç–æ–π",
  "–ö–∞–∫ –º–µ–¥–≤–µ–¥—å –Ω–∞ —É—Ö–æ –Ω–∞—Å—Ç—É–ø–∏–ª",
  "–°–µ—Å—Ç—å –≤ –ª—É–∂—É",
  "–ì–ª–∞–∑–∞ —Ä–∞–∑–±–µ–≥–∞—é—Ç—Å—è",
  "–®–µ—Ä—à–µ –ª—è —Ñ–∞–º",
  "–°–∫–∞—Ç–µ—Ä—Ç—å—é –¥–æ—Ä–æ–≥–∞",
  "–î—É—à–∞ –≤ –ø—è—Ç–∫–∏ —É—à–ª–∞",
  "–ù–µ –≤—Å–µ –∫–æ—Ç—É –º–∞—Å–ª–µ–Ω–∏—Ü–∞",
  "–í—ã–∂–∞—Ç—å –≤—Å–µ —Å–æ–∫–∏",
  "–°–Ω–µ–≥ –Ω–∞ –≥–æ–ª–æ–≤—É",
  "–ó–∞—Ä—É–±–∏—Ç—å –Ω–∞ –Ω–æ—Å—É",
  "–ó–≤–µ–∑–¥—ã –Ω–µ —Å–æ—à–ª–∏—Å—å",
  "–ö–∞—à—É –º–∞—Å–ª–æ–º –Ω–µ –∏—Å–ø–æ—Ä—Ç–∏—à—å",
  "–ö—Ç–æ –Ω–µ —Ä–∏—Å–∫—É–µ—Ç, —Ç–æ—Ç –Ω–µ –ø—å–µ—Ç —à–∞–º–ø–∞–Ω—Å–∫–æ–≥–æ",
  "–Ø–π—Ü–æ –∫—É—Ä–∏—Ü—É —É—á–∏—Ç",
  "–ò–∑ –ø—É—à–∫–∏ –ø–æ –≤–æ—Ä–æ–±—å—è–º",
  "–ö–æ—Ç –∏–∑ –¥–æ–º–∞ ‚Äî –º—ã—à–∏ –≤ –ø–ª—è—Å",
  "–ù–∞ –≤–æ—Ä–µ —à–∞–ø–∫–∞ –≥–æ—Ä–∏—Ç",
  "–ì–¥–µ —Ç–æ–Ω–∫–æ, —Ç–∞–º –∏ —Ä–≤–µ—Ç—Å—è",
  "–î–≤–∞ —Å–∞–ø–æ–≥–∞ –ø–∞—Ä–∞",
  "–ö–∞–∫ –ø–æ –º–∞—Å–ª—É",
  "–°–≤–µ—Ä–∫–∞—Ç—å –ø—è—Ç–∫–∞–º–∏",
  "–ù–∞ –≤—Å–µ —á–µ—Ç—ã—Ä–µ —Å—Ç–æ—Ä–æ–Ω—ã",
  "–í —É—Å –Ω–µ –¥—É–µ—Ç",
  "–ó–∞ —Å–µ–º—å –≤–µ—Ä—Å—Ç –∫–∏—Å–µ–ª—è —Ö–ª–µ–±–∞—Ç—å",
  "–ö–æ—Ç —É—á–µ–Ω—ã–π",
  "–ù–∏ —Ä—ã–±–∞, –Ω–∏ –º—è—Å–æ",
  "–ß–µ–º –¥–∞–ª—å—à–µ –≤ –ª–µ—Å, —Ç–µ–º –±–æ–ª—å—à–µ –¥—Ä–æ–≤",
  "–í–æ–¥–∏—Ç—å –∑–∞ –Ω–æ—Å",
  "–ö–∞–∫ —Å—ã—Ä –≤ –º–∞—Å–ª–µ",
  "–°—ä–µ—Å—Ç—å —Å–≤–æ–π –≥–∞–ª—Å—Ç—É–∫",
  "–î—Ä–∞—Ç—å –∫–∞–∫ –°–∏–¥–æ—Ä–æ–≤—É –∫–æ–∑—É",
  "–ù–∞ —Ä—ã–±–∞–ª–∫–µ –±–µ–∑ —á–µ—Ä–≤—è–∫–∞ ‚Äî –∫–∞–∫ –±–µ–∑ —Ä—É–∫",
  "–†—É–∫–∏ –≤ –Ω–æ–≥–∏ ‚Äî –∏ –≤–ø–µ—Ä–µ–¥!",
  "–ù–∞–∫—Ä—É—Ç–∏—Ç—å –Ω–∞ —É—Å—ã",
  "–ò–∑ –≥—Ä—è–∑–∏ –≤ –∫–Ω—è–∑–∏",
  "–í–æ–ª—à–µ–±–Ω—ã–π –ø–µ–Ω–¥–µ–ª—å",
  "–ù–∞–π—Ç–∏ –∏–≥–æ–ª–∫—É –≤ —Å—Ç–æ–≥–µ —Å–µ–Ω–∞",
  "–ü–µ—Ç—É—Ö –∫–ª—é–Ω—É–ª –≤ –æ–¥–Ω–æ –º–µ—Å—Ç–æ",
  "–ñ–∞–±–∞ –¥—É—à–∏—Ç",
  "–ì—Ä–æ–∑–∞ –≤ —Å—Ç–∞–∫–∞–Ω–µ –≤–æ–¥—ã",
  "–ü–µ—Å–æ–∫ —Å—ã–ø–µ—Ç—Å—è",
  "–ù–µ –≤ –±—Ä–æ–≤—å, –∞ –≤ –≥–ª–∞–∑",
  "–ë—Ä–æ—Å–∏—Ç—å —è–∫–æ—Ä—å",
  "–ö—Ç–æ —Å—Ç–∞—Ä–æ–µ –ø–æ–º—è–Ω–µ—Ç, —Ç–æ–º—É –≥–ª–∞–∑ –≤–æ–Ω",
  "–°–µ–º—å –ø—è—Ç–Ω–∏—Ü –Ω–∞ –Ω–µ–¥–µ–ª–µ",
  "–û–¥–Ω–∞ –≥–æ–ª–æ–≤–∞ —Ö–æ—Ä–æ—à–æ, –∞ –¥–≤–µ ‚Äî –ª—É—á—à–µ",
  "–í–µ—Ä—Ç–µ—Ç—å —Ö–≤–æ—Å—Ç–æ–º",
  "–ü–∞–ª—å—Ü—ã –≤–µ–µ—Ä–æ–º",
  "–¢–∞–Ω—Ü–µ–≤–∞—Ç—å –ø–æ–¥ –¥—É–¥–∫—É",
  "–ü—É—Ö –∏ –ø—Ä–∞—Ö",
  "–î–µ—Ä–∂–∞—Ç—å —Ö–≤–æ—Å—Ç –ø–∏—Å—Ç–æ–ª–µ—Ç–æ–º",
  "–°–ª–æ–Ω –∏ –ú–æ—Å—å–∫–∞",
  "–ß–µ—Ä–µ–ø–∞—Ö–∞ –≤ –≥–∏–ø—Å–µ",
  "–ß–µ—à—É—è —Å –≥–ª–∞–∑ —É–ø–∞–ª–∞",
  "–ë–µ–≥–∞—Ç—å –∑–∞ –¥–≤—É–º—è –∑–∞–π—Ü–∞–º–∏",
  "–ü–æ—á–µ—Å–∞—Ç—å —Ä–µ–ø—É",
  "–ö–æ—Ç –≤ –º–µ—à–∫–µ",
  "–ü–æ–π–º–∞—Ç—å —Å–∏–Ω—é—é –ø—Ç–∏—Ü—É",
  "–†–∞–∑–≤–µ—Å—Ç–∏ —Ä—É–∫–∞–º–∏",
  "–°–ª–µ–∑—Ç—å —Å –ø–µ—á–∏",
  "–ü–µ—Ç—å –¥–∏—Ñ–∏—Ä–∞–º–±—ã",
  "–ñ–µ–≤–∞—Ç—å —Å–æ–ø–ª–∏",
  "–ì—Ä—ã–∑—Ç—å –≥—Ä–∞–Ω–∏—Ç –Ω–∞—É–∫–∏",
  "–•–æ–¥–∏—Ç—å –Ω–∞ —É—à–∞—Ö",
  "–í–æ–¥–æ–π –Ω–µ —Ä–∞–∑–æ–ª—å–µ—à—å",
  "–ü–æ—Ç–µ—Ä—è—Ç—å –≥–æ–ª–æ–≤—É",
  "–ö—É—Ä–∏–Ω—ã–π —Ä–∞–∑—É–º",
  "–ß–µ—Å–∞—Ç—å —è–∑—ã–∫",
  "–ù–µ –±—Ä–æ—Å–∞–π –∫–∞–º–Ω–∏ –≤ —á—É–∂–æ–π –æ–≥–æ—Ä–æ–¥",
  "–ü–ª—è—Å–∞—Ç—å –ø–æ–¥ —á—É–∂—É—é –¥—É–¥–∫—É",
  "–ö–∞–∫ —Å–Ω–µ–≥ –Ω–∞ –≥–æ–ª–æ–≤—É",
  "–ß–µ—Ä—Ç –Ω–æ–≥—É —Å–ª–æ–º–∏—Ç",
  "–ó–∞—Ç–∫–Ω—É—Ç—å –∑–∞ –ø–æ—è—Å",
  "–õ–∏—Ç—å –∏–∑ –ø—É—Å—Ç–æ–≥–æ –≤ –ø–æ—Ä–æ–∂–Ω–µ–µ",
  "–í—Ç–∏—Ä–∞—Ç—å –æ—á–∫–∏",
  "–ü—Ä—ã–≥–∞—Ç—å –∫–∞–∫ –∫–æ–∑–µ–ª",
  "–°–ª–æ–Ω—è—Ç—å—Å—è –±–µ–∑ –¥–µ–ª–∞",
  "–ó–∞–≤–∞—Ä–∏—Ç—å –∫–∞—à—É",
  "–¢—è–Ω—É—Ç—å –∫–æ—Ç–∞ –∑–∞ —Ö–≤–æ—Å—Ç",
  "–í—ã–≤–µ—Å—Ç–∏ –Ω–∞ —á–∏—Å—Ç—É—é –≤–æ–¥—É",
];

function App() {
  const [currentWord, setCurrentWord] = useState("");
  const [isWordVisible, setIsWordVisible] = useState(false);
  const [isGameStarted, setIsGameStarted] = useState(false);

  const [count, setCount] = useState(0);

  const [prev, setPrev] = useState<string[]>([]);

  const getRandomWord = () => {
    const randomIndex = Math.floor(Math.random() * words.length);

    const newWord = words[randomIndex];

    if (prev.includes(newWord) && prev.length === words.length) {
      getRandomWord();
      return;
    }

    setCurrentWord(newWord);
    setIsWordVisible(true);
    setIsGameStarted(true);
    setPrev((prev) => [...prev, newWord]);

    setCount((prev) => prev + 1);
  };

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      className="min-h-screen flex flex-col bg-gradient-to-br from-indigo-400 via-purple-400 to-pink-400 px-4 sm:px-8 pt-4 sm:pt-8"
    >
      <div className="max-w-lg w-full mx-auto flex flex-col gap-2 grow">
        <motion.div
          className="text-center mb-2"
          initial={{ y: -20 }}
          animate={{ y: 0 }}
        >
          <h1 className="text-4xl font-bold text-white mb-2">–ö—Ä–æ–∫–æ–¥–∏–ª üêä</h1>
          <p className="text-lg text-white/90">
            –ü–æ–∫–∞–∂–∏ —Å–ª–æ–≤–æ, –ø—É—Å—Ç—å –¥—Ä—É–≥–∏–µ —É–≥–∞–¥–∞—é—Ç!
          </p>
        </motion.div>

        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="bg-black/50 backdrop-blur-lg rounded-2xl p-5 border border-white/20"
        >
          <h3 className="text-lg font-bold text-white mb-3">–ö–∞–∫ –∏–≥—Ä–∞—Ç—å:</h3>
          <ol className="space-y-2 text-white/90 list-decimal list-inside">
            <li>–ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –ò–≥—Ä—É" –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª–æ–≤–∞</li>
            <li>–ù–∞–∂–º–∏—Ç–µ "–ü–æ–∫–∞–∑–∞—Ç—å" —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–ª–æ–≤–æ</li>
            <li>–û–±—ä—è—Å–Ω–∏—Ç–µ —Å–ª–æ–≤–æ –∂–µ—Å—Ç–∞–º–∏, –±–µ–∑ —Å–ª–æ–≤</li>
            <li>–ü—É—Å—Ç—å –¥—Ä—É–≥–∏–µ –∏–≥—Ä–æ–∫–∏ –ø–æ–ø—Ä–æ–±—É—é—Ç —É–≥–∞–¥–∞—Ç—å</li>
            <li>–ù–∞–∂–º–∏—Ç–µ "–ù–æ–≤–æ–µ —Å–ª–æ–≤–æ" –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞—É–Ω–¥–∞</li>
          </ol>
        </motion.div>

        <div className="mt-auto"></div>

        <motion.div
          layout
          initial={{ height: 0, opacity: 0 }}
          animate={{ height: "auto", opacity: 1 }}
          exit={{ height: 0, opacity: 0 }}
          className="bg-black/50 backdrop-blur-lg rounded-t-3xl p-6 border border-white/20"
        >
          <AnimatePresence mode="wait">
            {!isGameStarted ? (
              <motion.div
                key="start"
                initial={{ scale: 0.8, opacity: 0 }}
                animate={{ scale: 1, opacity: 1 }}
                exit={{ scale: 0.8, opacity: 0 }}
              >
                <motion.button
                  onClick={getRandomWord}
                  className="w-full bg-white/20 hover:bg-white/30 text-white px-6 py-4 rounded-2xl text-xl font-medium transition-colors flex items-center justify-center gap-2"
                  whileHover={{ scale: 1.02 }}
                  whileTap={{ scale: 0.98 }}
                >
                  <Play size={24} />
                  –ù–∞—á–∞—Ç—å –ò–≥—Ä—É
                </motion.button>
              </motion.div>
            ) : (
              <>
                <AnimatePresence mode="wait">
                  <motion.div
                    key={currentWord}
                    initial={{ opacity: 0 }}
                    animate={{
                      opacity: isWordVisible ? 1 : 0,
                      height: isWordVisible ? "auto" : 0,
                    }}
                    exit={{ opacity: 0 }}
                    className="mb-6 pointer-events-none"
                  >
                    <p className="text-lg text-white/90">–í—Å–µ–≥–æ —Å–ª–æ–≤: {count}</p>
                    <p className="text-4xl font-bold text-white">
                      {currentWord}
                    </p>
                  </motion.div>
                </AnimatePresence>

                <div className="flex gap-3 z-10">
                  <motion.button
                    onClick={() => setIsWordVisible(!isWordVisible)}
                    className="flex-1 bg-white/20 hover:bg-white/30 text-white px-4 py-3 rounded-xl font-medium transition-colors flex items-center justify-center gap-2"
                    whileHover={{ scale: 1.02 }}
                    whileTap={{ scale: 0.98 }}
                  >
                    {isWordVisible ? <EyeOff size={20} /> : <Eye size={20} />}
                    {isWordVisible ? "–°–∫—Ä—ã—Ç—å" : "–ü–æ–∫–∞–∑–∞—Ç—å"}
                  </motion.button>

                  <motion.button
                    onClick={getRandomWord}
                    className="flex-1 bg-white/20 hover:bg-white/30 text-white px-4 py-3 rounded-xl font-medium transition-colors flex items-center justify-center gap-2"
                    whileHover={{ scale: 1.02 }}
                    whileTap={{ scale: 0.98 }}
                  >
                    <RefreshCw size={20} />
                    –ù–æ–≤–æ–µ —Å–ª–æ–≤–æ
                  </motion.button>
                </div>
              </>
            )}
          </AnimatePresence>
        </motion.div>
      </div>
    </motion.div>
  );
}

export default App;
